import{R as E,j as e}from"./index-CjYtlxtO.js";import{r as l}from"./react-F9Y4d3HK.js";import"./icons-BewvMgnJ.js";const T=()=>{const[u,N]=l.useState(!1),[h,b]=l.useState(null),[z,g]=l.useState(!1);l.useEffect(()=>{const s=setTimeout(()=>N(!0),500);return()=>clearTimeout(s)},[]);const{events:p,startYear:v,totalDuration:y}=l.useMemo(()=>{const s=E.education.map(t=>({id:t.id,type:"education",period:t.period,title:t.degree,subtitle:t.institution})),n=E.experience.map(t=>({id:t.id,type:"experience",period:t.period,title:t.role,subtitle:t.company})),m=[...s,...n].map(t=>{const o=t.period.match(/\d{4}/),i=o?parseInt(o[0],10):0;return{...t,year:i}}).sort((t,o)=>t.year-o.year).filter(t=>t.year>0),d=2004,c=new Date().getFullYear(),a=Math.max(1,c-d);return{events:m,startYear:d,totalDuration:a}},[]),j=s=>(s-v)/y*100,$=l.useMemo(()=>Array.from(new Set(p.map(n=>n.year))).sort((n,r)=>n-r),[p]),x=l.useMemo(()=>{const s=new Map;p.forEach(a=>{const t=s.get(a.year)??[];t.push(a),s.set(a.year,t)});const n=[],r=22,m=12,d=88,c=(a,t)=>{if(a.type!==t.type)return a.type==="education"?-1:1;const o=`${a.subtitle} ${a.title}`,i=`${t.subtitle} ${t.title}`;return o.localeCompare(i)};return Array.from(s.entries()).sort((a,t)=>a[0]-t[0]).forEach(([a,t])=>{const o=[...t].sort(c),i=j(a),f=i<m?"left":i>d?"right":"center",M=(o.length-1)/2;o.forEach((Y,A)=>{const D=(A-M)*r;n.push({event:Y,position:i,stackOffsetY:D,tooltipAlign:f,animDelayMs:n.length*150})})}),n},[p,v,y]);return l.useEffect(()=>{if(!u){g(!1);return}const s=x.length,n=Math.max(0,(s-1)*150),r=window.setTimeout(()=>g(!0),n+350);return()=>window.clearTimeout(r)},[u,x.length]),e.jsxs("div",{className:"w-full mt-10 mb-8 opacity-0 animate-fade-in overflow-visible",style:{animationFillMode:"forwards"},children:[e.jsx("div",{className:"relative h-4 mb-3",children:$.map(s=>{const r=`clamp(10px, ${j(s)}%, calc(100% - 10px))`;return e.jsx("div",{className:"absolute -translate-x-1/2 whitespace-nowrap text-[10px] uppercase tracking-wider text-zinc-600 font-mono",style:{left:r},children:s},s)})}),e.jsxs("div",{className:"relative w-full h-12 flex items-center group/timeline",children:[e.jsx("div",{className:"absolute left-0 right-0 h-0.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-zinc-700 via-indigo-500 to-accent transition-all duration-[2000ms] ease-out rounded-full",style:{width:u?"100%":"0%"}})}),x.map((s,n)=>{const{event:r,position:m,stackOffsetY:d,tooltipAlign:c,animDelayMs:a}=s,t=`clamp(6px, ${m}%, calc(100% - 6px))`,o=h===n,i=r.type==="education",f=c==="left"?"left-1/2 translate-x-0":c==="right"?"left-1/2 -translate-x-full":"left-1/2 -translate-x-1/2",w=c==="left"?"left-0 -translate-x-1/2":c==="right"?"right-0 translate-x-1/2 left-auto":"left-1/2 -translate-x-1/2";return e.jsxs("div",{className:"absolute",style:{left:t,top:"50%",transform:`translate(-50%, -50%) translateY(${d}px)`},onMouseEnter:()=>b(n),onMouseLeave:()=>b(null),children:[e.jsx("div",{className:"absolute inset-0 -m-2","aria-hidden":"true"}),e.jsx("div",{className:`w-3 h-3 rounded-full border-2 transition-all duration-150 z-10 relative cursor-pointer
                  ${u?"scale-100 opacity-100":"scale-0 opacity-0"}
                  ${o?i?"bg-emerald-400 border-emerald-400 scale-125":"bg-accent border-accent scale-125":i?"bg-zinc-900 border-emerald-500/50":"bg-zinc-900 border-indigo-500/50"}
                  ${!o&&h!==null?"opacity-50":"opacity-100"}
                `,style:{transitionDelay:z?"0ms":`${a}ms`}}),e.jsxs("div",{className:`absolute bottom-full mb-3 ${f} w-max max-w-[220px] 
                  px-3 py-2 bg-zinc-900 text-zinc-200 text-xs rounded-lg border border-zinc-800 shadow-xl
                  transition-all duration-120 z-50 pointer-events-none origin-bottom
                  ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-2"}
                `,children:[e.jsx("div",{className:`font-bold mb-0.5 ${i?"text-emerald-400":"text-accent"}`,children:r.year}),e.jsx("div",{className:"font-semibold truncate text-zinc-100",children:r.subtitle}),e.jsx("div",{className:"text-zinc-400 text-[10px] leading-tight mt-0.5",children:r.title}),e.jsx("div",{className:`absolute top-full ${w} -mt-px border-4 border-transparent border-t-zinc-800`})]})]},r.id)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-medium text-zinc-500 mt-[-5px]",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-indigo-500/50 bg-zinc-900"}),e.jsx("span",{children:"Experience"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-emerald-500/50 bg-zinc-900"}),e.jsx("span",{children:"Education"})]})]})]})},P=l.memo(T);export{P as default};
